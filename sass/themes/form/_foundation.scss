@if load-module('forms/foundation', 'themes') {
	@import 'functions/units';
	@import 'mixins/border';
	@import 'mixins/buttons';
	@import 'mixins/effects';
	@import 'mixins/forms';

	// Based on Foundation 5.3.0
	//
	// @variables
	//
	// We use this to set the base for lots of form spacing and positioning styles
	$form-spacing: rem(16) !default;

	// We use these to style the labels in different ways
	$form-label-pointer: pointer !default;
	$form-label-font-size: 1rem !default;//14px for base font size 16
	$form-label-font-weight: normal !default;
	$form-label-line-height: 1.5 !default;
	$form-label-font-color: scale-color(#000, $lightness: 30%) !default;
	$form-label-small-transform: capitalize !default;
	$form-label-bottom-margin: 0 !default;
	$input-font-family: inherit !default;
	$input-font-color: rgba(0,0,0,0.75) !default;
	$input-font-size: 1rem !default;//14px for base font size 16
	$input-bg-color: #fff !default;
	$input-padding: rem(8) !default;
	$input-focus-bg-color: scale-color(#fff, $lightness: -2%) !default;
	$input-border-color: scale-color(#fff, $lightness: -20%) !default;
	$input-focus-border-color: scale-color(#fff, $lightness: -40%) !default;
	$input-border-style: solid !default;
	$input-border-width: rem(1px) !default;
	$input-border-radius: $global-radius !default;
	$input-disabled-bg: #ddd !default;
	$input-box-shadow: inset 0 1px 2px rgba(0,0,0,0.1) !default;
	$input-include-glowing-effect: true !default;

	// We use these to style the fieldset border and spacing.
	$fieldset-border-style: solid !default;
	$fieldset-border-width: 1px !default;
	$fieldset-border-color: #ddd !default;
	$fieldset-padding: rem(20) !default;
	$fieldset-margin: rem(18 0) !default;

	// We use these to style the legends when you use them
	$legend-bg: #fff !default;
	$legend-font-weight: bold !default;
	$legend-padding: rem(0 3) !default;

	// We use these to style the prefix and postfix input elements
	$input-prefix-bg: scale-color(#fff, $lightness: -5%) !default;
	$input-prefix-border-color: scale-color(#fff, $lightness: -20%) !default;
	$input-prefix-border-size: 1px !default;
	$input-prefix-border-type: solid !default;
	$input-prefix-overflow: hidden !default;
	$input-prefix-font-color: #333 !default;
	$input-prefix-font-color-alt: #fff !default;

	// We use these to style the error states for inputs and labels
	$input-error-message-padding: rem(6 9 9) !default;
	$input-error-message-top: rem(-1px) !default;
	$input-error-message-font-size: rem(12) !default;
	$input-error-message-font-weight: normal !default;
	$input-error-message-font-style: italic !default;
	$input-error-message-font-color: #fff !default;
	$input-error-message-font-color-alt: #333 !default;

	// We use this to style the glowing effect of inputs when focused
	$glowing-effect-fade-time: 0.45s !default;
	$glowing-effect-color: $input-focus-border-color !default;

	// Select variables
	$select-bg-color: #fafafa !default;
	$select-hover-bg-color: scale-color($select-bg-color, $lightness: -3%) !default;

	/* Standard Forms */
	//form { margin: 0 0 $global-padding; }

	$input-height: $input-font-size + ($input-padding + $input-border-width) * 2;
	/* We use this to get basic styling on all basic form elements */
	input[type="text"],
	input[type="password"],
	input[type="date"],
	input[type="datetime"],
	input[type="datetime-local"],
	input[type="month"],
	input[type="week"],
	input[type="email"],
	input[type="number"],
	input[type="search"],
	input[type="tel"],
	input[type="time"],
	input[type="url"],
	select,
	textarea,
	[spytext-field],
	.spytext-field {
		@include input-size(
			$height: $input-height,
			$padding: $input-padding,
			$border: $input-border-width,
			$font-size: $input-font-size,
			$spacing: $form-spacing
		);
		border-style: $input-border-style;
		border-color: $input-border-color;
		-webkit-appearance: none !important;
		-moz-appearance: none !important;
		background-color: $input-bg-color;
		font-family: $input-font-family;
		box-shadow: $input-box-shadow;
		color: $input-font-color;
		border-radius: 0;

		@if $input-include-glowing-effect {
			@include block-glowing-effect(focus, $glowing-effect-fade-time, $glowing-effect-color);
		}

		// Basic focus styles
		&:focus {
			background: $input-focus-bg-color;
			border-color: $input-focus-border-color;
			outline: none;
		}

		// Disabled background input background color
		&[disabled], fieldset[disabled] & { background-color: $input-disabled-bg; }
		@if $input-include-glowing-effect == false {
			transition: all 0.15s linear;
		}
	}

	textarea, [spytext-field], .spytext-field {
		height: auto;
	}

	select {
		background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="5" viewBox="0 0 9.9999996 5.0000003"><path d="M0 0h10L5 5 0 0z" fill="#aaa" fill-rule="evenodd"/></svg>') !important;
		//background-image: img-url('arrows.svg') !important;
		background-color: $select-bg-color !important;
		background-position: if($text-direction == 'rtl', 5px, calc(100% - 5px)) center !important;
		//background-position: if($text-direction == 'rtl', 5px, calc(100% - 5px)) -10px !important;
		background-repeat: no-repeat !important;

		transition: background 0.5s;
		border: $input-border-width $input-border-style $input-border-color;
		padding: 0 $input-padding - rem(4px);

		&:hover, &:focus {
			background-color: $select-hover-bg-color;
			border-color: $input-focus-border-color;
		}
		&:focus {
			//background-position: if($text-direction == 'rtl', 5px, calc(100% - 5px)) 12px !important;

			background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="5" viewBox="0 0 9.9999996 5.0000003"><path d="M10 5H0l5-5 5 5z" fill="#888" fill-rule="evenodd"/></svg>') !important;
		}
		&::-ms-expand {
				display:none;
		}
	}

	select, textarea {
		line-height: 1.6;
	}

	/* Adjust margin for form elements below */
	input, textarea, select {
		margin: 0 0 $form-spacing 0;
	}

	input[type="checkbox"] + label,
	input[type="radio"] + label {
		display: inline-block;
		margin-#{$default-float}: $form-spacing * .5;
		margin-#{$opposite-direction}: $form-spacing;
		margin-bottom: 0;
		vertical-align: baseline;
	}

	/* Normalize file input width */
	input[type="file"] {
		width:100%;
	}

	/* We add basic fieldset styling */
	fieldset {
		border: $fieldset-border-width $fieldset-border-style $fieldset-border-color;
		padding: $fieldset-padding;
		margin: $fieldset-margin;

		// and legend styles
		legend {
			font-weight: $legend-font-weight;
			background: $legend-bg;
			padding: $legend-padding;
			margin: 0;
			margin-#{$default-float}: rem(-3);
		}
	}

	label {
		font-size: $form-label-font-size;
		color: $form-label-font-color;
		cursor: $form-label-pointer;
		display: block;
		font-weight: $form-label-font-weight;
		line-height: $form-label-line-height;
		margin-bottom: $form-label-bottom-margin;
		&.right {
			float: none !important;
			text-align: right;
		}
		&.inline {
			margin: 0 0 $form-spacing 0;
			padding: $form-spacing / 2 + rem($input-border-width) 0;
		}
		/* Styles for required inputs */
		small {
			text-transform: $form-label-small-transform;
			color: scale-color($form-label-font-color, $lightness: 15%);
		}
	}

	.prefix, .postfix {
		display: block;
		position: relative;
		z-index: 2;
		text-align: center;
		width: 100%;
		padding: $input-padding 0;
		border-style: $input-prefix-border-type;
		border-width: $input-prefix-border-size;
		overflow: $input-prefix-overflow;
		font-size: $form-label-font-size;
		height: $input-height;
		line-height: 1;
	}

	.prefix {
		border-#{$opposite-direction}: none;
		@include side-radius('right', 0);
	}

	.postfix {
		border-#{$default-float}: none;
		@include side-radius('left', 0);
	}

	span.prefix,label.prefix, span.postfix,label.postfix {
		$bg-lightness: lightness($input-prefix-bg);
		background: $input-prefix-bg;

		// Control the font color based on background brightness
		@if $bg-lightness > 70% or $bg == yellow { color: $input-prefix-font-color; }
		@else { color: $input-prefix-font-color-alt; }

		border-color: $input-prefix-border-color;
	}
}
